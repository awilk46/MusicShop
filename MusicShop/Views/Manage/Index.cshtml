
@model MusicShop.ViewModels.ManageCredentialsViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_ManageLayout.cshtml";
}


<h2 class="h-edit">Twoje dane</h2>
<div class="border-clas-ot"></div>
@using (@Html.BeginForm("ChangeProfile", "Manage"))
{
    @Html.AntiForgeryToken()

    <div class="manag-acc-edit">
        <table id="userdata-address-table" style="margin-left:auto; margin-right:auto;">
            <tr style="height:50px;">
                <td>@Html.LabelFor(o => o.DaneUzytkownika.Imie, "Imię:")</td>
                <td>@Html.TextBoxFor(o => o.DaneUzytkownika.Imie, new {@class="form-control"})</td>
            </tr>
            <tr>
                <td colspan="2" class="acc-validation-message">
                    @Html.ValidationMessageFor(o => o.DaneUzytkownika.Imie)
                </td>
            </tr>
            <tr style="height:50px;">
                <td>@Html.LabelFor(o => o.DaneUzytkownika.Nazwisko, "Nazwisko:")</td>
                <td>@Html.TextBoxFor(o => o.DaneUzytkownika.Nazwisko, new { @class = "form-control" })</td>
            </tr>
            <tr>
                <td colspan="2" class="acc-validation-message">@Html.ValidationMessageFor(o => o.DaneUzytkownika.Nazwisko)</td>
            </tr>
            <tr style="height:50px;">
                <td>@Html.LabelFor(o => o.DaneUzytkownika.Adres, "Adres:")</td>
                <td>@Html.TextBoxFor(o => o.DaneUzytkownika.Adres, new { @class = "form-control" })</td>
            </tr>
            <tr>
                <td colspan="2" class="acc-validation-message">@Html.ValidationMessageFor(o => o.DaneUzytkownika.Adres)</td>
            </tr>
            <tr style="height:50px;">
                <td>@Html.LabelFor(o => o.DaneUzytkownika.Miasto, "Miasto:")</td>
                <td>@Html.TextBoxFor(o => o.DaneUzytkownika.Miasto, new { @class = "form-control" })</td>
            </tr>
            <tr>
                <td colspan="2" class="acc-validation-message">@Html.ValidationMessageFor(o => o.DaneUzytkownika.Miasto)</td>
            </tr>
            <tr style="height:50px;">
                <td>@Html.LabelFor(o => o.DaneUzytkownika.KodPocztowy, "Kod pocztowy:")</td>
                <td>@Html.TextBoxFor(o => o.DaneUzytkownika.KodPocztowy, new { @class = "form-control" })</td>
            </tr>
            <tr>
                <td colspan="2" class="acc-validation-message">@Html.ValidationMessageFor(o => o.DaneUzytkownika.KodPocztowy)</td>
            </tr>
            <tr style="height:50px;">
                <td>@Html.LabelFor(o => o.DaneUzytkownika.Telefon, "Numer telefonu:")</td>
                <td>@Html.TextBoxFor(o => o.DaneUzytkownika.Telefon, new { @class = "form-control" })</td>
            </tr>
            <tr>
                <td colspan="2" class="acc-validation-message" style="padding-right:19px;">@Html.ValidationMessageFor(o => o.DaneUzytkownika.Telefon)</td>
            </tr>
            <tr style="height:50px;">
                <td>@Html.LabelFor(o => o.DaneUzytkownika.Email, "Adres e-mail:")</td>
                <td>@Html.TextBoxFor(o => o.DaneUzytkownika.Email, new { @class = "form-control" })</td>
            </tr>
            <tr>
                <td colspan="2" class="acc-validation-message" style="padding-right:38px;">@Html.ValidationMessageFor(o => o.DaneUzytkownika.Email)</td>
            </tr>
            <tr style="text-align: center;">
                <td></td>
                <td colspan="3">

                    <button type="submit" class="btn btn-outline-secondary">Potwierdź</button>
                    @*<input type="submit" value="Potwierdź" class="submitLink" style="height: 40px; margin-right: 5px;" />*@
                </td>
            </tr>
        </table>
    </div>
}

<div class="border-cl"></div>
<h2 class="h-edit" style="margin-bottom:3%;">Zmiana hasła</h2>


@using (Html.BeginForm("ChangePassword", "Manage", FormMethod.Post))
{
    @Html.AntiForgeryToken()

    <div class="manage-error" style="text-align:center;">
        @Html.ValidationMessage("password-error", "", new { @class="acc-validation-message", style="text-align: center;"})
    </div>

    if (Model.Message.HasValue)
    {
        <div class="manage-message">
            @switch (Model.Message)
            {
                case MusicShop.Controllers.ManageController.ManageMessageId.ChangePasswordSuccess:
                    @: Hasło zmienione pomyślnie!
                    break;
                case MusicShop.Controllers.ManageController.ManageMessageId.Error:
                    @: Wystąpił błąd
                    break;
            }
        </div>
    }

    <table id="password-table" class="manag-acc-edit" style="margin-left: auto; margin-right: auto;">
        <tr style="height:50px;">
            <td>@Html.LabelFor(o => o.ChangePasswordViewModel.OldPassword, "Stare hasło:")</td>
            <td class="td-val-lab2">
                @Html.PasswordFor(o => o.ChangePasswordViewModel.OldPassword, new { @class = "form-control" })             
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div class="acc-validation-message">
                    @Html.ValidationMessageFor(o => o.ChangePasswordViewModel.OldPassword)
                </div>
            </td>
        </tr>
        <tr style="height:50px;">
            <td>@Html.LabelFor(o => o.ChangePasswordViewModel.NewPassword, "Nowe hasło:")</td>
            <td class="td-val-lab2">
                @Html.PasswordFor(o => o.ChangePasswordViewModel.NewPassword, new { @class = "form-control" })             
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div class="acc-validation-message" style=" width: 320px; padding-left: 133px; text-align: center;">
                    @Html.ValidationMessageFor(o => o.ChangePasswordViewModel.NewPassword)
                </div>
            </td>
        </tr>
        <tr style="height:50px;">
            <td>@Html.LabelFor(o => o.ChangePasswordViewModel.ConfirmPassword, "Potwierdź hasło:")</td>
            <td class="td-val-lab2">
                @Html.PasswordFor(o => o.ChangePasswordViewModel.ConfirmPassword, new { @class="form-control"})
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div class="acc-validation-message" style=" width: 329px; padding-left: 106px; text-align: center; margin-bottom: 5px;">
                    @Html.ValidationMessageFor(o => o.ChangePasswordViewModel.ConfirmPassword)
                </div>
            </td>
        </tr>
        <tr style="text-align: center;">
            <td></td>
            <td colspan="2">
                <button type="submit" class="btn btn-outline-secondary">Zmień</button>
             @*   <input type="submit" value="Zmień" class="submitLink" style="height: 40px;" />*@
            </td>
        </tr>
    </table>
}

@section Scripts
{
    <script src="~/Scripts/jquery-2.2.1.js"></script>
    <script src="~/Scripts/jquery.validate.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
}